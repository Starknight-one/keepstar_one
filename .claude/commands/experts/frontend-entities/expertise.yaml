# Frontend Entities Expertise
# Business entities - atom, widget, formation, message

overview:
  layer: "entities"
  path: "project/frontend/src/entities/"
  imports: "shared/"
  contains: "Business entities with model + renderer pattern"

entities:
  atom:
    path: "src/entities/atom/"
    files:
      - "atomModel.js - AtomType enum"
      - "AtomRenderer.jsx - Renders by type"
      - "Atom.css - Styles"
    types: ["TEXT", "NUMBER", "PRICE", "IMAGE", "RATING", "BADGE", "BUTTON", "ICON", "DIVIDER", "PROGRESS"]
    status: "implemented"
    features:
      - "TEXT: renders with optional style class"
      - "NUMBER: formats as currency/percent/compact"
      - "PRICE: displays with currency symbol"
      - "IMAGE: renders with size class"
      - "RATING: renders star rating (★/☆)"
      - "BADGE: renders with variant class"
      - "BUTTON: clickable with action handler"

  widget:
    path: "src/entities/widget/"
    files:
      - "widgetModel.js - WidgetType, WidgetTemplate enums"
      - "WidgetRenderer.jsx - Template-based or legacy rendering"
      - "Widget.css - Styles"
      - "templates/index.js - Template exports"
      - "templates/ProductCardTemplate.jsx - Slot-based product card"
      - "templates/ProductCardTemplate.css - Product card styles"
      - "templates/ProductDetailTemplate.jsx - Full product detail view"
      - "templates/ProductDetailTemplate.css - Product detail styles"
      - "templates/ServiceCardTemplate.jsx - Slot-based service card"
      - "templates/ServiceCardTemplate.css - Service card styles"
      - "templates/ServiceDetailTemplate.jsx - Full service detail view"
      - "templates/ServiceDetailTemplate.css - Service detail styles"
    types_legacy: ["PRODUCT_CARD", "TEXT_BLOCK", "QUICK_REPLIES"]
    templates: ["ProductCard", "ProductDetail", "ServiceCard", "ServiceDetail"]
    status: "implemented"
    components:
      - "ProductCardTemplate: renders atoms by slot (hero, badge, title, primary, price, secondary)"
      - "ProductDetailTemplate: full product view with all details, expandable sections"
      - "ServiceCardTemplate: renders service atoms (duration, provider, rating chips)"
      - "ServiceDetailTemplate: full service view with availability, attributes"
      - "TextBlock: atoms in text block (legacy)"
      - "QuickReplies: atoms as buttons (legacy)"
      - "DefaultWidget: fallback"
    slots:
      - "hero: main image/carousel"
      - "badge: overlay badge"
      - "title: product/service title"
      - "primary: main attributes (chips) - brand/category for products, duration/provider for services"
      - "price: price block"
      - "secondary: expandable details"
      - "description: full description (detail templates)"
      - "attributes: key-value attributes (detail templates)"

  formation:
    path: "src/entities/formation/"
    files:
      - "formationModel.js - FormationMode enum"
      - "FormationRenderer.jsx - Renders layout"
      - "Formation.css - Styles"
      - "index.js - Exports"
    modes: ["GRID", "CAROUSEL", "SINGLE", "LIST"]
    status: "implemented"
    features:
      - "GRID: configurable cols (cols-2, cols-3)"
      - "CAROUSEL: horizontal scroll"
      - "SINGLE: one widget centered"
      - "LIST: vertical stack (default)"

  message:
    path: "src/entities/message/"
    files:
      - "messageModel.js - MessageRole enum"
      - "MessageBubble.jsx - Renders message"
    roles: ["USER", "ASSISTANT"]
    status: "implemented"

pattern:
  - "Each entity: model.js + Renderer.jsx + .css"
  - "Renderers accept entity object as prop"
  - "Switch on type to render appropriate component"

naming:
  models: "{entity}Model.js"
  renderers: "{Entity}Renderer.jsx"
  styles: "{Entity}.css"
