## Манифест продукта

Keepstar one ultra — это SaaS B2B2С. 
Его задачи делятся на 2 группы потребителей:
1. Те кто будут платить за решение — контрагенты.
2. Те кто будут использовать его больше всего. Пользователи контрагентов.

## Какие задачи решает:

### Для контраегнтов

- Помогает увеличивать конверсию в покупку, за счёт визуального ответа пользователю, достаточно гибкого
- Помогает увеличивать конверсию, через возможность добавлять бесчисленное кол-во контента (будут ограничения чтобы экономить на серверах)
- Убирает проблему необходимости иметь техническую команду, потому что:
1. Если раньше для добавления нового поля нужно было сверстать макет, сделать задачу для разработки, объяснить как это должно работать, где будут данные и кто их будет туда добавлять, то теперь достаточно просто загрузить данные и чат сможет их отобразить, потому что все данные имеют ограниченный набор форматов верхнеуровнево, а значит могут являться атомами из которых собирается динамический дизайн
2. Если раньше нужно было делать кучу доработок в базе данных, то теперь проблемы тоже нет, потому что это будет обеспечено
3. Если раньше чтобы создать новые маркетинговые активности нужно было прибегать к команде разработки или использвоать специализированные сервисы, то теперь в этом нет необходимости потму что можно настроить эти активности сразу в админке и они будут показываться пользователям
4. Нет потребности в дизайнерах на постоянной основе. Сайт больше не нуждается в них так как вся информация генерируется на лету. Дизайнеры будут нужны временно только для генерации специфических элементов, брендинге и маркетинговых штуках
5. Убирается сложность установить себе такой чат на действующий сайт, или создать себе сайт который и будет этим чатом
6. Убирается сложность переезда на решение, не нужны RAG и прочие штуки для того чтобы загрузить контент — достаточно выгружать это в заданном формате что не тяжело и тут будет помощь + возмонжость вносить описания голосом и командовать что и как должно меняться
7. Добавляется возможность перенасыщать контентом карточки товаров или услуг, потому что будет доступно подгружать доп данные без разработки. Кроме того, чем больше информации о товаре, тем больше вероятности к покупке, потому что пользователь будет спрашивать чат про продукт и узнавать всё больше
8. Вся аналитика сразу есть в готовом формате
9. В будущем ожидается супер фича, которая позволит делать доработки по запросу, за небольшую плату, для всех пользователей. Это будет делаться через прикрученный мультиагентный слой, который настолько хорош конкретно в этой кодовой базе, что может реализовать то что хочет пользователь со 100% вероятностью и быстро

### Для пользователей которые приходят к контрагентам

ПО сути, это система навигации и просвещения которая почти как игрофильм, видео которое создаётся под ситуацию и так далее

Пользоваетель сможет:
- вводить текст и прикреплять картинки, видео и прочие элементы (на старте текст и картинки)
- вводить текст голосом и голосом общаться с ботом
- Просить делать сортировки, уточнять запрос через сужения и расширения и сортировки
- Просить показывать в спецэфичном формате (нука оставь только наименования и мощность, покажи в виде круга) или (сделай плиз сравнительную таблицу, хочется получше понять, оставь фотки только чтобы рядом были)
- Задавать кучу вопросов про родукт потому что его можно обогощать голосовым и видеоконтентом, который будет показан по запросу и нет предела его объёму 
- В будущем планируется переделать это в канвас, чтобы можно было приближать и отдалять то что получается, это почти как автогенерация карты того что нравится и нет, для поиска и так далее

### Как предполагается будет работать

На МВП фазе предполагается двуегантная система на фронте:
1. Агент который распознаёт запрос, обращается к сёрчлейеру, вызывает нужные функции обогощая их переменными на основе запроса пользователя, принимает ответ от серч лейера (серч обращается к БД, просто гипер быстро), сохраняет его в кэш как ЛЛМки так и внутренний
2. Второй агент, получает от бэка видоизменённый ответ о том что было обнаружено (для экономии токенов), принимает решение о том как это будет скомпановано, возвращает джейсон ответ в бэкенд. Дальше бэк сам определяет что получилось, если пришёл ответ в неверном формате ещё раз пушится запрос. Дальше бэк из кэша локального на клиенте собирает то что должен будет сгенерировать фронт и просто отдаёт это. Фронт получает буквально всё что нужно чтобы сгенерировать ответ и выводит его на экран

При активации чата, экран будет затемняться, весь, чат будет открываться и ему можно будет задать вопрос.
Для выхода будут использоваться кнопки или клик мимо того что отрендерилось
Для возвращения обратно как обычно
История чата будет сохраняться, так что можно позадавать вопросы, а потом вернуться и увидеть что они ещё есть, это просто сейв состояния
История так же сохраняется и так, что можно откатываться по своим запросам в любую точку, при этом данные будут браться из истории\кэша, без запросов к ЛЛМке. Разве что если будет запрос вернуться но через чат и с доп условиями, типа добавь ещё то и то, то придётся смотреть, были ли вызовы того что ищет пользователь, если нет, то будет сделан вызов, если да, то они где-то лежат в истории\кэше и нужно их просто достать, т.е. это всё оптимизация
Виджеты которые генерируются их атомов будут интерактивными, т.е. карусель с фотками, видос, кнопка, ссылка и прочее, это всё будет работать. Часто будет соединяться с тем что есть у контрагента чтобы работало на него прям полностью

С точки зрения бэкофиса
- ПОка ещё не думал полностью. Там важно уметь супер быстро грузить и классифицировать всё то что пользователи вставляют. Это единственная проблема, так что может потребовться направленный краулер который будет приходить на сайт и собирать всё что нужно, подсвечивая сколько процентов собрано от идеала
- Большой вопрос к мультитеннатной БД. Я хочу взять 10 человек на тест. Так чтобы у части совпадали товары и услуги, у части нет. Звучит как динамическая БД, и целый сервис который сам вписывает то что приносят к нему. При этом, если есть несколько теннатов на один продукт\услугу, то потребуется мультитеннаятная. Но это дорого кажется..?